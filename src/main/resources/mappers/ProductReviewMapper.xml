<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.javaclassS15.dao.ProductReviewDAO">

	<select id="getProductReview" resultType="com.spring.javaclassS15.vo.ProductReviewVO">
		select * from productReview order by idx desc;
	</select>

	<select id="getproductReviewContent" resultType="com.spring.javaclassS15.vo.ProductReviewVO">
		select * from productReview where idx = #{idx};
	</select>

	<select id="getPdReviewComment" resultType="com.spring.javaclassS15.vo.ReviewCommentVO">
		select * from reviewComment where part = 'productReview' and partIdx = #{idx} order by commentCnt;
	</select>

	<select id="getPdReviewParentCommentCheck" resultType="com.spring.javaclassS15.vo.ReviewCommentVO">
		select * from reviewComment where part = 'productReview' and partIdx = #{partIdx} order by idx desc limit 1;
	</select>
	
	
	
	
	<insert id="setproductReviewInsert">
		insert into productReview values(default,#{vo.mid},#{vo.nickName},#{vo.photo},#{vo.petCategory},#{vo.productCategory},#{vo.brand},#{vo.productName},#{vo.memberHeart},#{vo.petHeart},#{vo.goodPoint},#{vo.badPoint},#{vo.productPhoto},#{vo.repurchase},default,default,default,default,#{vo.hostIp});
	</insert>
	
	<insert id="setPdReviewCommentInputOK">
		insert into reviewComment values(default,#{commentVO.commentLev},#{commentVO.commentCnt},#{commentVO.part},#{commentVO.partIdx},#{commentVO.mid},#{commentVO.nickName},#{commentVO.photo},#{commentVO.content},default);
	</insert>

</mapper>